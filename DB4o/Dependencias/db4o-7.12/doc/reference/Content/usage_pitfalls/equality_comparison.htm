<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:lastBlockDepth="2" MadCap:lastHeight="120" MadCap:lastWidth="624" MadCap:disableMasterStylesheet="true" MadCap:tocPath="Usage Pitfalls" MadCap:InPreviewMode="false" MadCap:RuntimeFileType="Topic" MadCap:TargetType="WebHelp" MadCap:PathToHelpSystem="../../" MadCap:HelpSystemFileName="index.xml" MadCap:SearchType="Stem">
    <head><title>Equality Comparison	</title>
        <script type="text/javascript">/* <![CDATA[ */
			window.onload = function(){
                             prettyPrint();
			};
                /* ]]> */</script>
        <link href="../SkinSupport/MadCap.css" rel="stylesheet" />
        <link href="../Resources/Stylesheets/OnlineStyle.css" rel="stylesheet" />
        <script src="../Resources/Code/prettify.js">
        </script>
        <script src="../Resources/Code/lang-vb.js">
        </script>
        <script src="../SkinSupport/MadCapAll.js" type="text/javascript">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink" style="display: none;"><a href="../../index_CSH.html#usage_pitfalls/equality_comparison.htm" style="">Open topic with navigation</a>
        </p>
        <div class="MCBreadcrumbsBox"><span class="MCBreadcrumbsPrefix">You are here: </span><a class="MCBreadcrumbsLink" href="../usage_pitfalls.htm">Usage Pitfalls</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">Equality Comparison	</span>
        </div>
        <p>
            <script type="text/javascript">/*<![CDATA[*/document.write('<a href="' + location.href +'">');
				document.write("Direct Link");
			document.write('</a>');/*]]>*/</script>
        </p>
        <p>
        </p>
        <h1>Equality Comparison</h1>Db4o uses reference cache for quick
access to persistent objects. Each persistent object is guaranteed to
have only one instance in the object reference cache independently of
whether it was saved or retrieved. You can retrieve the same object
several times with different querying methods, but you will still get
references to the same object, so that ref(1) == ref(2) == ... ==
ref(n).
<p>In the same time it means that 2
objects, for example, one created in the runtime and another
retrieved from the database, with the same data (field values) won't
be equal for db4o. 
</p><p>There are 2 ways to compare db4o
objects by data:</p><ul><li value="1"><p>using
	<a href="../object_lifecycle/querying/query_by_example.htm">QBE</a>;</p></li><li value="2"><p>implementing a suitable
	<code>equals</code> method.</p></li></ul><p>Let's save an object to the database
and try the above mentioned methods in practice.</p><p MadCap:conditions="Primary.Java,Primary.All languages"><pre class="prettyprint" xml:space="preserve">EqualityExample.java: storePilot
private static void storePilot()  {
    ObjectContainer container = database();
    if (container != null)  {
      try  {
        Pilot pilot = new Pilot("Kimi Raikkonnen", 100);
        container.store(pilot);
      } catch (Exception ex)  {
        System.out.println("System Exception: " + ex.getMessage());
      } finally  {
        closeDatabase();
      }
    }
  }</pre></p><p MadCap:conditions="Global.Primary:java" /><p MadCap:conditions="Global.Primary:cs" /><p MadCap:conditions="Global.Primary:vb" />More Reading:<ul><li value="1"><p><a href="equality_comparison/qbe.htm">QBE</a></p></li><li value="2"><p><a href="equality_comparison/using_equals.htm">Using Equals</a></p></li></ul><p MadCap:conditions="Primary.Online">Download example code:</p><p MadCap:conditions="Primary.Online"><MadCap:conditionalText MadCap:conditions="Primary.Java"><a href="equality_comparison/equalityjava.zip">Java </a></MadCap:conditionalText></p><script type="text/javascript" src="../SkinSupport/MadCapBodyEnd.js"></script></body>
</html>