<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:lastBlockDepth="2" MadCap:lastHeight="120" MadCap:lastWidth="624" MadCap:disableMasterStylesheet="true" MadCap:tocPath="Object Lifecycle" MadCap:InPreviewMode="false" MadCap:RuntimeFileType="Topic" MadCap:TargetType="WebHelp" MadCap:PathToHelpSystem="../../" MadCap:HelpSystemFileName="index.xml" MadCap:SearchType="Stem">
    <head><title>Object Container	</title>
        <script type="text/javascript">/* <![CDATA[ */
			window.onload = function(){
                             prettyPrint();
			};
                /* ]]> */</script>
        <link href="../SkinSupport/MadCap.css" rel="stylesheet" />
        <link href="../Resources/Stylesheets/OnlineStyle.css" rel="stylesheet" />
        <script src="../Resources/Code/prettify.js">
        </script>
        <script src="../Resources/Code/lang-vb.js">
        </script>
        <script src="../SkinSupport/MadCapAll.js" type="text/javascript">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink" style="display: none;"><a href="../../index_CSH.html#object_lifecycle/object_container.htm" style="">Open topic with navigation</a>
        </p>
        <div class="MCBreadcrumbsBox"><span class="MCBreadcrumbsPrefix">You are here: </span><a class="MCBreadcrumbsLink" href="../object_lifecycle.htm">Object Lifecycle</a><span class="MCBreadcrumbsDivider"> &gt; </span><span class="MCBreadcrumbs">Object Container</span>
        </div>
        <p>
            <script type="text/javascript">/*<![CDATA[*/document.write('<a href="' + location.href +'">');
				document.write("Direct Link");
			document.write('</a>');/*]]>*/</script>
        </p>
        <p>
        </p>
        <h1><a name="kanchor21"></a>Object Container</h1>
        <P>db4o gives you a simple and straightforward interface to object persistence - <MadCap:conditionalText MadCap:conditions="Primary.Java">ObjectContainer</MadCap:conditionalText>. In .NET versions a conventional name IObjectContainer is used.</P><a name="Accessing A Database "></a>
        <H2>Accessing A Database </H2>
        <P>
            <MadCap:conditionalText MadCap:conditions="Primary.Java">ObjectContainer</MadCap:conditionalText> is your db4o database.</P>
        <p MadCap:conditions="Primary.Java,Primary.All languages">
            <P>Java: </P>
            <P><code>ObjectContainer container = Db4o.openFile(filename);</code>
            </P>
        </p>
        <p MadCap:conditions="Global.Primary:java" />
        <p MadCap:conditions="Global.Primary:cs" />
        <p MadCap:conditions="Global.Primary:vb" />
        <P>filename is the path to the file, in which you want to store your objects. Normally you should open an ObjectContainer when the application starts and close it, when the session is finished to persist the changes to a physical storage location:</P>
        <p MadCap:conditions="Primary.Java,Primary.All languages">
            <P>Java: </P>
            <P><code>container.close();</code>
            </P>
        </p>
        <p MadCap:conditions="Global.Primary:java" />
        <p MadCap:conditions="Global.Primary:cs" />
        <p MadCap:conditions="Global.Primary:vb" />
        <p>nly the first call against a file can be successful. Subsequent calls that request to open a database file that is already open will get a DatabaseFileLockedException. </p><a name="Working With Objects "></a>
        <H2>Working With Objects </H2>
        <P>
            <MadCap:conditionalText MadCap:conditions="Primary.Java">ObjectContainer</MadCap:conditionalText> interface gives you all the basic functionality to work with persistent objects. Normally you can save a new or updated object of any class using <code>objectContainer.store(object)</code></P>
        <P>Deletion is done with the following method:</P>
        <p MadCap:conditions="Primary.Java,Primary.All languages">
            <P>Java: </P>
            <P><code>container.delete(object)</code>
            </P>
        </p>
        <p MadCap:conditions="Global.Primary:java" />
        <p MadCap:conditions="Global.Primary:cs" />
        <p MadCap:conditions="Global.Primary:vb" />
        <P>Through ObjectContainer#get and ObjectContainer#query you get access to objects retrieval functionality. </P>
        <H3>Object Container Features </H3>
        <P>The characteristic features of an Object Container are: </P>
        <UL>
            <LI value="1">An Object Container can either be a database in a single-user mode or a client connection to a db4o server.</LI>
            <LI value="2">Every Object Container owns one transaction. All work is transactional. When you open an Object Container, you are in a transaction, when you commit() or rollback(), the next transaction is started immediately.</LI>
            <LI value="3">Every Object Container maintains it's own references to stored and instantiated objects. In doing so, it manages object identities, and is able to achieve a high level of performance.</LI>
            <LI value="4">ObjectContainers are intended to be kept open as long as you work against them. When you close an Object Container, all database references to objects in RAM will be discarded.</LI>
        </UL>
        <P>Basically Object Container supplies functionality, which is enough for the most common usage of db4o database.</P><a name="Extended Object Container Interface "></a>
        <H2>Extended Object Container Interface </H2>
        <P>Additional db4o features are provided by an interface extending Object Container - ExtObjectContainer/IExtObjectContainer.</P>
        <P>The idea of splitting basic and advanced functionality between 2 interfaces is:</P>
        <UL>
            <LI value="1">Keep the root package/namespace very small and well readable.</LI>
            <LI value="2">Separate vital and optional functionality.</LI>
            <LI value="3">Make it easy for other products to implement the basic db4o interface.</LI>
            <LI value="4">Show an example of how a lightweight version of db4o could look.</LI>
        </UL>
        <P>Every Object Container object is also an ExtObjectContainer. You can cast it to ExtObjectContainer or you can use <MadCap:conditionalText MadCap:conditions="Primary.Java">ext</MadCap:conditionalText> method to get to the advanced features. </P>
        <script type="text/javascript" src="../SkinSupport/MadCapBodyEnd.js">
        </script>
    </body>
</html>